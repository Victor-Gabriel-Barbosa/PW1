<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <!-- Metadados básicos -->
  <meta charset="UTF-8"> <!-- Define o conjunto de caracteres para suporte ao idioma -->
  <title>Animu - Inserir Anime</title> <!-- Título exibido na aba do navegador -->
  <!-- Importação da fonte personalizada do Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <!-- Link para o arquivo CSS principal -->
  <link rel="stylesheet" href="./src/css/styles.css">
  <!-- Inclusão da biblioteca Tailwind CSS para estilos adicionais -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Ícone do site (favicon) -->
  <link rel="icon" href="./src/favicon/favicon.ico" type="image/x-icon">
  <script>
    // Verificação imediata antes de carregar o resto da página
    (function () {
      const session = JSON.parse(localStorage.getItem('userSession'));
      if (!session || !session.isAdmin) {
        alert('Acesso negado. Esta página é restrita a administradores.');
        window.location.href = 'inicio.html';
      }
    })();
  </script>
</head>

<body>
  <!-- Botão de voltar para a página anterior -->
  <button class="back-button" onclick="window.history.back()" title="Voltar">
    <!-- Ícone SVG representando uma seta de voltar -->
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 18l-6-6 6-6" /> <!-- Desenho da seta -->
    </svg>
  </button>

  <!-- Botão de alternância entre temas claro e escuro -->
  <div class="theme-toggle-container">
    <button id="theme-toggle" class="toggle">
      <!-- Ícones representando o sol (tema claro) e a lua (tema escuro) -->
      <span class="icon sun"></span>
      <span class="icon moon"></span>
    </button>
  </div>

  <!-- Container principal para o formulário de inserção de animes -->
  <div class="admin-form card-hover">
    <h1 class="form-title"><b>Inserir Anime</b></h1> <!-- Título do formulário -->

    <!-- Formulário para cadastrar um novo anime -->
    <form id="anime-admin-form" class="space-y-6">
      <!-- Campo para o título principal do anime -->
      <div class="form-group">
        <label for="primary-title">Título Principal</label>
        <input type="text" id="primary-title" required>
      </div>

      <!-- Campo para adicionar títulos alternativos -->
      <div class="form-group">
        <label>Títulos Alternativos</label>
        <div class="additional-title">
          <input type="text" id="alternative-title" placeholder="Título alternativo"> <!-- Input do título -->
          <select id="title-type"> <!-- Seleção do tipo de título -->
            <option value="Japonês">Japonês</option>
            <option value="Inglês">Inglês</option>
            <option value="Romaji">Romaji</option>
          </select>
          <button type="button" class="btn-add" onclick="addTitle()">+ Adicionar</button> <!-- Botão para adicionar -->
        </div>
        <div id="titles-container" class="tag-container"></div> <!-- Exibição dos títulos adicionados -->
      </div>

      <!-- Campo para adicionar gêneros -->
      <div class="form-group">
        <label>Gêneros</label>
        <div class="additional-title">
          <input type="text" id="genre-input" placeholder="Novo gênero"> <!-- Input do gênero -->
          <button type="button" class="btn-add" onclick="addGenre()">+ Adicionar</button> <!-- Botão para adicionar -->
        </div>
        <div id="genres-container" class="tag-container"></div> <!-- Exibição dos gêneros adicionados -->
      </div>

      <!-- Campo para a sinopse do anime -->
      <div class="form-group">
        <label for="synopsis">Sinopse</label>
        <textarea id="synopsis" rows="5" required></textarea>
      </div>

      <!-- Campo para o número de episódios -->
      <div class="form-group">
        <label for="episodes">Número de Episódios</label>
        <input type="number" id="episodes" min="1">
      </div>

      <!-- Campo para o ano de lançamento -->
      <div class="form-group">
        <label for="release-year">Ano de Lançamento</label>
        <input type="number" id="release-year" min="1900" max="2024">
      </div>

      <!-- Campo para o nome do estúdio -->
      <div class="form-group">
        <label for="studio">Estúdio</label>
        <input type="text" id="studio">
      </div>

      <!-- Campo para a URL da imagem de capa -->
      <div class="form-group">
        <label for="image-url">URL da Imagem de Capa</label>
        <input type="url" id="image-url">
      </div>

      <!-- Campo para a URL do trailer (opcional) -->
      <div class="form-group">
        <label for="trailer-url">URL do Trailer (Opcional)</label>
        <input type="url" id="trailer-url">
      </div>

      <!-- Status do Anime -->
      <div class="form-group">
        <label for="status" class="block mb-2">Status do Anime</label>
        <select id="status" name="status" class="w-full p-2 border rounded" required>
          <option value="Em andamento">Em Andamento</option>
          <option value="Finalizado">Finalizado</option>
          <option value="Anunciado">Anunciado</option>
        </select>
      </div>

      <!-- Classificação Etária -->
      <div class="form-group">
        <label for="age-rating" class="block mb-2">Classificação Etária</label>
        <select id="age-rating" name="age-rating" class="w-full p-2 border rounded" required>
          <option value="livre">Livre</option>
          <option value="10">10 anos</option>
          <option value="12">12 anos</option>
          <option value="14">14 anos</option>
          <option value="16">16 anos</option>
          <option value="18">18 anos</option>
        </select>
      </div>

      <!-- Temporada de Lançamento -->
      <div class="form-group">
        <label for="season" class="block mb-2">Temporada de Lançamento</label>
        <div class="grid grid-cols-2 gap-4">
          <select id="season-period" name="season-period" class="p-2 border rounded" required>
            <option value="Inverno">Inverno</option>
            <option value="Primavera">Primavera</option>
            <option value="Verão">Verão</option>
            <option value="Outono">Outono</option>
          </select>
          <input type="number" id="season-year" name="season-year" placeholder="Ano" class="p-2 border rounded"
            required>
        </div>
      </div>

      <!-- Duração dos Episódios -->
      <div class="form-group">
        <label for="episode-duration" class="block mb-2">Duração dos Episódios (minutos)</label>
        <input type="number" id="episode-duration" name="episode-duration" class="w-full p-2 border rounded" required>
      </div>

      <!-- Produtores -->
      <div class="form-group">
        <label for="producers" class="block mb-2">Produtores</label>
        <div class="flex gap-2">
          <input type="text" id="producer-input" class="flex-grow p-2 border rounded" placeholder="Nome do produtor">
          <button type="button" onclick="addProducer()"
            class="px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600">
            Adicionar
          </button>
        </div>
        <div id="producers-container" class="flex flex-wrap gap-2 mt-2"></div>
      </div>

      <!-- Licenciadores -->
      <div class="form-group">
        <label for="licensors" class="block mb-2">Licenciadores</label>
        <div class="flex gap-2">
          <input type="text" id="licensor-input" class="flex-grow p-2 border rounded" placeholder="Nome do licenciador">
          <button type="button" onclick="addLicensor()"
            class="px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600">
            Adicionar
          </button>
        </div>
        <div id="licensors-container" class="flex flex-wrap gap-2 mt-2"></div>
      </div>

      <!-- Fonte Original -->
      <div class="form-group">
        <label for="source" class="block mb-2">Fonte Original</label>
        <select id="source" name="source" class="w-full p-2 border rounded" required>
          <option value="Mangá">Mangá</option>
          <option value="Light Novel">Light Novel</option>
          <option value="Original">Original</option>
          <option value="Game">Game</option>
          <option value="Visual Novel">Visual Novel</option>
          <option value="Outro">Outro</option>
        </select>
      </div>

      <!-- Score e Ranking -->
      <div class="grid grid-cols-2 gap-4">
        <div class="form-group">
          <label for="score" class="block mb-2">Score Médio (0-10)</label>
          <input type="number" id="score" name="score" min="0" max="10" step="0.1" class="w-full p-2 border rounded"
            required>
        </div>
        <div class="form-group">
          <label for="popularity" class="block mb-2">Ranking de Popularidade</label>
          <input type="number" id="popularity" name="popularity" min="1" class="w-full p-2 border rounded" required>
        </div>
      </div>

      <!-- Botão para submeter o formulário -->
      <button type="submit" id="submit-btn">Cadastrar Anime</button>
    </form>
  </div>

  <!-- Inclusão de scripts JavaScript para funcionalidades adicionais -->
  <script src="./src/js/animu.js"></script>
  <script src="./src/js/admin.js"></script>
</body>

</html>